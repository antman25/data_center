node()
{
	all_stages = [:]
	all_stages['ansible'] = {
					stage('Build docker-ansible')
					{
						build job: 'build-root/docker/ansible/build'
					}
				}
	
	all_stages['terraform'] = {
					stage('Build docker-terraform')
					{
						build job: 'build-root/docker/terraform/build'
					}
				}

        all_stages['consul'] = {
                                        stage('Build docker-consul')
                                        {
                                                build job: 'build-root/docker/consul/build'
                                        }
                                }

        all_stages['vault'] = {
                                        stage('Build docker-vault')
                                        {
                                                build job: 'build-root/docker/vault/build'
                                        }
                                }

        all_stages['packer'] = {
                                        stage('Build docker-packer')
                                        {
                                                build job: 'build-root/docker/packer/build'
                                        }
                                }

        all_stages['ubi8'] = {
                                        stage('Build ubi8')
                                        {
                                                build job: 'build-root/docker/ubi8/build'
                                        }
                                }






	stage('Run All Builds')
	{
		parallel(all_stages)
	}
}
